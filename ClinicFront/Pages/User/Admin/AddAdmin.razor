@page "/addNewAdmin"
@inject IAdminService _adminService
@layout MainLayoutAdmin
<h3>AddDoctor</h3>

<div class="container-signup">
    <EditForm Model="@adminRegiterationDTO" class="form-signup">
        <DataAnnotationsValidator/>
    

        <label class="fw-bold">First Name </label>
        <div class="mb-2 input-container">
            <InputText
                   id="fname"
            @bind-Value="@adminRegiterationDTO.FirstName"
                   name="Fname"
                   style="padding-left:3rem;"
                   class="form-control input_i"
                   placeholder="Enter your first Name"
                   />
            <i class="fas fa-user icon"></i>
        </div>
        <ValidationMessage For="@(() => adminRegiterationDTO.FirstName)" style="text-align:center" />


        <label class="fw-bold">Last Name</label>
        <div class="mb-2 input-container">
            <InputText
                   id="lname"
            @bind-Value="@adminRegiterationDTO.LastName"
                   name="Lname"
                   style="padding-left:3rem;"
                   class="form-control input_i"
                   placeholder="Enter your last Name"
                   />
            <i class="fas fa-user icon"></i>
        </div>
        <ValidationMessage For="@(() => adminRegiterationDTO.LastName)" style="text-align:center" />

        <label for="inputEmail" class="fw-bold"> Email Address </label>
        <div class="input-container mb-4">
            <InputText id="inputEmail"
            @bind-Value="@adminRegiterationDTO.Email"
                       style="padding-left:3rem;"
                       class="form-control input_i"
                       placeholder="Enter your email"
                       autofocus />
            <i class="fas fa-envelope icon"></i>
        </div>
        <ValidationMessage For="@(() => adminRegiterationDTO.Email)" style="text-align:center" />


        <label class="fw-bold">User Name</label>
        <div class="mb-2 input-container">
            <InputText id="lname"
            @bind-Value="@adminRegiterationDTO.UserName"
                       name="Lname"
                       style="padding-left:3rem;"
                       class="form-control input_i"
                       placeholder="Enter your last Name" />
            <i class="fas fa-user icon"></i>
        </div>
        <ValidationMessage For="@(() => adminRegiterationDTO.UserName)" style="text-align:center" />



        <label for="inputPassword" class="fw-bold"> Password </label>
        <div class="mb-3 input-container">
            <InputText id="inputPassword"
            @bind-Value="@adminRegiterationDTO.Password"
                       style="padding-left:3rem;"
                       class="form-control input_i"
                       placeholder="Enter your password" />
            <i class="fas fa-lock icon"></i>
            @*<span class="span-eye">
            <i class="fas fa-eye"></i>
            </span>*@
        </div>
        <ValidationMessage For="@(() => adminRegiterationDTO.Password)" style="text-align:center" />

        <label for="inputPassword" class="fw-bold"> Confirm Password </label>
        <div class="mb-4 input-container">
            <InputText id="ConPassword"
            @bind-Value="@adminRegiterationDTO.ConfirmPassword"
                       style="padding-left:3rem;"
                       class="form-control input_i"
                       placeholder="Enter your password" />
            <i class="fas fa-lock icon"></i>
            @* <span class="span-eye-confirm">
            <i class="fas fa-eye"></i>
            </span>*@
        </div>
        <ValidationMessage For="@(() => adminRegiterationDTO.ConfirmPassword)" style="text-align:center" />


        <label class="fw-bold">Age</label>
        <div class="mb-2 input-container">
            <InputNumber
                   id="num"
            @bind-Value="@adminRegiterationDTO.Age"
                   name="Age"
                   style="padding-left:3rem;"
                   class="form-control input_i"
                   placeholder="Enter your Age"
                   />
            <i class="fas fa-user-friends icon"></i>
        </div>
        <ValidationMessage For="@(() => adminRegiterationDTO.Age)" style="text-align:center" />

        <label class="fw-bold">Phone</label>
        <div class="mb-2 input-container">
            <InputText
                   id="Phone"
            @bind-Value="@adminRegiterationDTO.PhoneNumber"
                   name="Phone"
                   style="padding-left:3rem;"
                   class="form-control input_i"
                   placeholder="Enter your Phone"
                   />
            <i class="fas fa-phone-alt icon"></i>
        </div>
        <ValidationMessage For="@(() => adminRegiterationDTO.PhoneNumber)" style="text-align:center" />


        <label class="fw-bold">Address</label>
        <div class="mb-2 input-container">
            <InputText id="Phone"
            @bind-Value="@adminRegiterationDTO.Address"
                       name="Phone"
                       style="padding-left:3rem;"
                       class="form-control input_i"
                       placeholder="Enter your Address" />
            <i class="fas fa-phone-alt icon"></i>
        </div>
        <ValidationMessage For="@(() => adminRegiterationDTO.Address)" style="text-align:center" />


      

        <button type="submit"
                class="mb-2 btn btn-lg btn-block fw-bold button"
                @onclick="RegisterNewAdmin">
            Finish
        </button>
    </EditForm>
</div>

@code {
    // [Inject]
    // public IJSRuntime navjs { get; set; }
    // [Inject]
    // public IUserservice userservice { get; set; }
    [Inject]
    public NavigationManager navigat { get; set; }

    public AdminRegiterationDTO adminRegiterationDTO { get; set; } = new AdminRegiterationDTO();

    public int MyProperty { get; set; }

    protected override async void OnAfterRender(bool firstRender)
    {
        //await navjs.InvokeVoidAsync("hidenave");
    }
    public async void RegisterNewAdmin()
    {
        var response = _adminService.AddAdmin(adminRegiterationDTO);
        navigat.NavigateTo("/mainpageadmin");
    }
}
